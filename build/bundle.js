var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function s(){return Object.create(null)}function i(t){t.forEach(n)}function l(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function c(t,e,n,s){if(t){const i=u(t,e,n,s);return t[0](i)}}function u(t,n,s,i){return t[1]&&i?e(s.ctx.slice(),t[1](i(n))):s.ctx}function a(t,e,n,s,i,l,r){const o=function(t,e,n,s){if(t[2]&&s){const i=t[2](s(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|i[s];return t}return e.dirty|i}return e.dirty}(e,s,i,l);if(o){const i=u(e,n,s,r);t.p(i,o)}}function d(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t){return document.createTextNode(t)}function m(){return $(" ")}function b(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){for(const n in e)v(t,n,e[n])}function x(t){return""===t?null:+t}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function _(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function M(t,e,n){t.classList[n?"add":"remove"](e)}let S;function z(t){S=t}const R=[],j=[],q=[],E=[],O=Promise.resolve();let C=!1;function L(t){q.push(t)}function A(t){E.push(t)}let P=!1;const T=new Set;function B(){if(!P){P=!0;do{for(let t=0;t<R.length;t+=1){const e=R[t];z(e),N(e.$$)}for(z(null),R.length=0;j.length;)j.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];T.has(e)||(T.add(e),e())}q.length=0}while(R.length);for(;E.length;)E.pop()();C=!1,P=!1,T.clear()}}function N(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const H=new Set;let X;function F(){X={r:0,c:[],p:X}}function G(){X.r||i(X.c),X=X.p}function Y(t,e){t&&t.i&&(H.delete(t),t.i(e))}function D(t,e,n,s){if(t&&t.o){if(H.has(t))return;H.add(t),X.c.push((()=>{H.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function I(t,e){t.d(1),e.delete(t.key)}function J(t,e){D(t,1,1,(()=>{e.delete(t.key)}))}function K(t,e,n,s,i,l,r,o,c,u,a,d){let f=t.length,p=l.length,g=f;const h={};for(;g--;)h[t[g].key]=g;const $=[],m=new Map,b=new Map;for(g=p;g--;){const t=d(i,l,g),o=n(t);let c=r.get(o);c?s&&c.p(t,e):(c=u(o,t),c.c()),m.set(o,$[g]=c),o in h&&b.set(o,Math.abs(g-h[o]))}const v=new Set,y=new Set;function x(t){Y(t,1),t.m(o,a),r.set(t.key,t),a=t.first,p--}for(;f&&p;){const e=$[p-1],n=t[f-1],s=e.key,i=n.key;e===n?(a=e.first,f--,p--):m.has(i)?!r.has(s)||v.has(s)?x(e):y.has(i)?f--:b.get(s)>b.get(i)?(y.add(s),x(e)):(v.add(i),f--):(c(n,r),f--)}for(;f--;){const e=t[f];m.has(e.key)||c(e,r)}for(;p;)x($[p-1]);return $}function Q(t,e){const n={},s={},i={$$scope:1};let l=t.length;for(;l--;){const r=t[l],o=e[l];if(o){for(const t in r)t in o||(s[t]=1);for(const t in o)i[t]||(n[t]=o[t],i[t]=1);t[l]=o}else for(const t in r)i[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}function U(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function V(t){t&&t.c()}function W(t,e,s){const{fragment:r,on_mount:o,on_destroy:c,after_update:u}=t.$$;r&&r.m(e,s),L((()=>{const e=o.map(n).filter(l);c?c.push(...e):i(e),t.$$.on_mount=[]})),u.forEach(L)}function Z(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(R.push(t),C||(C=!0,O.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,n,l,r,o,c,u=[-1]){const a=S;z(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:o,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:s(),dirty:u,skip_bound:!1};let g=!1;if(f.ctx=l?l(e,d,((t,n,...s)=>{const i=s.length?s[0]:n;return f.ctx&&o(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),g&&tt(e,t)),n})):[],f.update(),g=!0,i(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(p)}else f.fragment&&f.fragment.c();n.intro&&Y(e.$$.fragment),W(e,n.target,n.anchor),B()}z(a)}class nt{$destroy(){Z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function st(e){let n;return{c(){n=g("div"),n.innerHTML='<div class="title svelte-g6crc9"><span class="letter-b svelte-g6crc9">B</span> \n    <span class="letter-e svelte-g6crc9">e</span> \n    <span class="letter-a svelte-g6crc9">a</span> \n    <span class="letter-d svelte-g6crc9">d</span> \n    <span class="letter-s svelte-g6crc9">s</span></div>',v(n,"class","cell svelte-g6crc9")},m(t,e){f(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}class it extends nt{constructor(t){super(),et(this,t,null,st,r,{})}}const lt=t=>({}),rt=t=>({}),ot=t=>({}),ct=t=>({}),ut=t=>({}),at=t=>({}),dt=t=>({}),ft=t=>({});function pt(t){let e,n,s,i,l,r;const o=t[3].label,u=c(o,t,t[2],at),d=t[3].slider,h=c(d,t,t[2],ct),$=t[3]["go-button"],b=c($,t,t[2],rt);return{c(){e=g("div"),u&&u.c(),n=m(),s=g("div"),h&&h.c(),i=m(),l=g("div"),b&&b.c(),v(e,"class","cell cell-label svelte-mdu8in"),v(s,"class","cell cell-slider svelte-mdu8in"),v(l,"class","cell cell-go-button svelte-mdu8in")},m(t,o){f(t,e,o),u&&u.m(e,null),f(t,n,o),f(t,s,o),h&&h.m(s,null),f(t,i,o),f(t,l,o),b&&b.m(l,null),r=!0},p(t,e){u&&u.p&&4&e&&a(u,o,t,t[2],e,ut,at),h&&h.p&&4&e&&a(h,d,t,t[2],e,ot,ct),b&&b.p&&4&e&&a(b,$,t,t[2],e,lt,rt)},i(t){r||(Y(u,t),Y(h,t),Y(b,t),r=!0)},o(t){D(u,t),D(h,t),D(b,t),r=!1},d(t){t&&p(e),u&&u.d(t),t&&p(n),t&&p(s),h&&h.d(t),t&&p(i),t&&p(l),b&&b.d(t)}}}function gt(t){let e,n,s,i;const l=t[3]["rotate-buttons"],r=c(l,t,t[2],ft);let o=t[1]&&pt(t);return{c(){e=g("div"),n=g("div"),r&&r.c(),s=m(),o&&o.c(),v(n,"class","cell cell-rotate-buttons svelte-mdu8in"),v(e,"class","grid svelte-mdu8in"),M(e,"painting",t[0]),M(e,"configuring",t[1])},m(t,l){f(t,e,l),d(e,n),r&&r.m(n,null),d(e,s),o&&o.m(e,null),i=!0},p(t,[n]){r&&r.p&&4&n&&a(r,l,t,t[2],n,dt,ft),t[1]?o?(o.p(t,n),2&n&&Y(o,1)):(o=pt(t),o.c(),Y(o,1),o.m(e,null)):o&&(F(),D(o,1,1,(()=>{o=null})),G()),1&n&&M(e,"painting",t[0]),2&n&&M(e,"configuring",t[1])},i(t){i||(Y(r,t),Y(o),i=!0)},o(t){D(r,t),D(o),i=!1},d(t){t&&p(e),r&&r.d(t),o&&o.d()}}}function ht(t,e,n){let{$$slots:s={},$$scope:i}=e,{painting:l}=e,{configuring:r}=e;return t.$$set=t=>{"painting"in t&&n(0,l=t.painting),"configuring"in t&&n(1,r=t.configuring),"$$scope"in t&&n(2,i=t.$$scope)},[l,r,i,s]}class $t extends nt{constructor(t){super(),et(this,t,ht,gt,r,{painting:0,configuring:1})}}const mt=[];function bt(e,n=t){let s;const i=[];function l(t){if(r(e,t)&&(e=t,s)){const t=!mt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),mt.push(n,e)}if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(r,o=t){const c=[r,o];return i.push(c),1===i.length&&(s=n(l)||t),r(e),()=>{const t=i.indexOf(c);-1!==t&&i.splice(t,1),0===i.length&&(s(),s=null)}}}}const vt=(()=>{const{subscribe:t,update:e,set:n}=bt(0);return{subscribe:t,update:e,set:n,reset:()=>n(0)}})(),yt=(()=>{const{subscribe:t,update:e,set:n}=bt({});return{subscribe:t,update:e,set:n,reset:()=>n({})}})(),xt=(()=>{const{subscribe:t,update:e,set:n}=bt([{h:175,s:65,l:35,id:0},{h:150,s:74,l:72,id:1},{h:50,s:91,l:70,id:2},{h:11,s:100,l:85,id:3},{h:16,s:95,l:65,id:4},{h:0,s:100,l:100,id:5},{h:0,s:100,l:100,id:6},{h:0,s:100,l:100,id:7},{h:0,s:100,l:100,id:8},{h:0,s:100,l:100,id:9},{h:0,s:100,l:100,id:10},{h:0,s:100,l:100,id:11}]);return{subscribe:t,update:e,set:n,reset:()=>n([{h:175,s:65,l:35,id:0},{h:150,s:74,l:72,id:1},{h:50,s:91,l:70,id:2},{h:11,s:100,l:85,id:3},{h:16,s:95,l:65,id:4},{h:0,s:100,l:100,id:5},{h:0,s:100,l:100,id:6},{h:0,s:100,l:100,id:7},{h:0,s:100,l:100,id:8},{h:0,s:100,l:100,id:9},{h:0,s:100,l:100,id:10},{h:0,s:100,l:100,id:11}])}})(),wt=(()=>{const{subscribe:t,update:e,set:n}=bt("configuring");return{subscribe:t,update:e,setPainting:()=>n("painting"),setConfiguring:()=>n("configuring")}})(),kt=(()=>{const{subscribe:t,update:e,set:n}=bt({cursor:0,versions:[{}]});return{subscribe:t,commit:t=>e((e=>{const n={...e.versions[e.cursor],...t};return s=e.versions[e.cursor],i=n,Object.keys(s).length===Object.keys(i).length&&Object.entries(s).reduce(((t,[e,n])=>t&&e in i&&i[e]==n),!0)?e:{cursor:e.cursor+1,versions:[...e.versions.slice(0,e.cursor+1),n]};var s,i})),undo:()=>e((t=>0===t.cursor?t:{...t,cursor:t.cursor-1})),redo:()=>e((t=>t.cursor===t.versions.length-1?t:{...t,cursor:t.cursor+1})),reset:()=>n({cursor:0,versions:[{}]})}})();function _t(e){let n,s,l,r,o,c;return{c(){n=g("div"),s=g("button"),s.innerHTML='<div class="secondary-button-content rotate rotate-left svelte-n5d476"></div>',l=m(),r=g("button"),r.innerHTML='<div class="secondary-button-content rotate rotate-right svelte-n5d476"></div>',v(s,"class","secondary-button"),v(s,"aria-label","rotate left"),v(r,"class","secondary-button"),v(r,"aria-label","rotate right"),v(n,"slot","rotate-buttons")},m(t,i){f(t,n,i),d(n,s),d(n,l),d(n,r),o||(c=[b(s,"click",e[4]),b(r,"click",e[3])],o=!0)},p:t,d(t){t&&p(n),o=!1,i(c)}}}function Mt(t){let e,n,s,i;return{c(){e=g("p"),n=$(t[0]),s=$(" x "),i=$(t[0]),v(e,"slot","label"),v(e,"class","label svelte-n5d476")},m(t,l){f(t,e,l),d(e,n),d(e,s),d(e,i)},p(t,e){1&e&&w(n,t[0]),1&e&&w(i,t[0])},d(t){t&&p(e)}}}function St(t){let e,n,s,l,r,o;return{c(){e=g("input"),v(e,"type","range"),v(e,"slot","slider"),v(e,"min",n=5),v(e,"max",s=50),v(e,"step",l=1),v(e,"class","svelte-n5d476")},m(n,s){f(n,e,s),k(e,t[0]),r||(o=[b(e,"change",t[8]),b(e,"input",t[8])],r=!0)},p(t,n){1&n&&k(e,t[0])},d(t){t&&p(e),r=!1,i(o)}}}function zt(e){let n,s,i;return{c(){n=g("button"),n.textContent="Go!",v(n,"slot","go-button"),v(n,"class","go-button svelte-n5d476")},m(t,l){f(t,n,l),s||(i=b(n,"click",e[5]),s=!0)},p:t,d(t){t&&p(n),s=!1,i()}}}function Rt(e){let n,s,i;return{c(){n=m(),s=m(),i=m()},m(t,e){f(t,n,e),f(t,s,e),f(t,i,e)},p:t,d(t){t&&p(n),t&&p(s),t&&p(i)}}}function jt(t){let n,s,i;const l=[{configuring:t[2],painting:t[1]}];let r={$$slots:{default:[Rt],"go-button":[zt],slider:[St],label:[Mt],"rotate-buttons":[_t]},$$scope:{ctx:t}};for(let t=0;t<l.length;t+=1)r=e(r,l[t]);return s=new $t({props:r}),{c(){n=g("div"),V(s.$$.fragment),v(n,"class","cell svelte-n5d476")},m(t,e){f(t,n,e),W(s,n,null),i=!0},p(t,[e]){const n=6&e?Q(l,[{configuring:t[2],painting:t[1]}]):{};513&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i(t){i||(Y(s.$$.fragment,t),i=!0)},o(t){D(s.$$.fragment,t),i=!1},d(t){t&&p(n),Z(s)}}}function qt(t,e,n){let s;o(t,wt,(t=>n(7,s=t)));let{gridSize:i}=e,{layoutRotation:l}=e;let r,c;return t.$$set=t=>{"gridSize"in t&&n(0,i=t.gridSize),"layoutRotation"in t&&n(6,l=t.layoutRotation)},t.$$.update=()=>{128&t.$$.dirty&&n(1,r="painting"==s),128&t.$$.dirty&&n(2,c="configuring"==s)},[i,r,c,()=>{n(6,l=(l+90)%360)},()=>{n(6,l=(l-90+360)%360)},()=>{wt.setPainting()},l,s,function(){i=x(this.value),n(0,i)}]}class Et extends nt{constructor(t){super(),et(this,t,qt,jt,r,{gridSize:0,layoutRotation:6})}}const Ot=t=>({}),Ct=t=>({}),Lt=t=>({}),At=t=>({}),Pt=t=>({}),Tt=t=>({}),Bt=t=>({}),Nt=t=>({}),Ht=t=>({}),Xt=t=>({}),Ft=t=>({}),Gt=t=>({});function Yt(t){let e,n,s,i,l,r,o,u,h,$,b,y,x;const w=t[1]["hue-slider"],k=c(w,t,t[0],Gt),_=t[1]["sat-slider"],M=c(_,t,t[0],Xt),S=t[1]["light-slider"],z=c(S,t,t[0],Nt),R=t[1].colors,j=c(R,t,t[0],Tt),q=t[1]["history-buttons"],E=c(q,t,t[0],At),O=t[1]["reset-button"],C=c(O,t,t[0],Ct);return{c(){e=g("div"),n=g("div"),k&&k.c(),s=m(),i=g("div"),M&&M.c(),l=m(),r=g("div"),z&&z.c(),o=m(),u=g("div"),j&&j.c(),h=m(),$=g("div"),E&&E.c(),b=m(),y=g("div"),C&&C.c(),v(n,"class","cell cell-hue-slider svelte-cft2eq"),v(i,"class","cell cell-sat-slider svelte-cft2eq"),v(r,"class","cell cell-light-slider svelte-cft2eq"),v(u,"class","cell cell-colors svelte-cft2eq"),v($,"class","cell cell-history-buttons svelte-cft2eq"),v(y,"class","cell cell-reset-button svelte-cft2eq"),v(e,"class","grid svelte-cft2eq")},m(t,c){f(t,e,c),d(e,n),k&&k.m(n,null),d(e,s),d(e,i),M&&M.m(i,null),d(e,l),d(e,r),z&&z.m(r,null),d(e,o),d(e,u),j&&j.m(u,null),d(e,h),d(e,$),E&&E.m($,null),d(e,b),d(e,y),C&&C.m(y,null),x=!0},p(t,[e]){k&&k.p&&1&e&&a(k,w,t,t[0],e,Ft,Gt),M&&M.p&&1&e&&a(M,_,t,t[0],e,Ht,Xt),z&&z.p&&1&e&&a(z,S,t,t[0],e,Bt,Nt),j&&j.p&&1&e&&a(j,R,t,t[0],e,Pt,Tt),E&&E.p&&1&e&&a(E,q,t,t[0],e,Lt,At),C&&C.p&&1&e&&a(C,O,t,t[0],e,Ot,Ct)},i(t){x||(Y(k,t),Y(M,t),Y(z,t),Y(j,t),Y(E,t),Y(C,t),x=!0)},o(t){D(k,t),D(M,t),D(z,t),D(j,t),D(E,t),D(C,t),x=!1},d(t){t&&p(e),k&&k.d(t),M&&M.d(t),z&&z.d(t),j&&j.d(t),E&&E.d(t),C&&C.d(t)}}}function Dt(t,e,n){let{$$slots:s={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,s]}class It extends nt{constructor(t){super(),et(this,t,Dt,Yt,r,{})}}function Jt(t,e,n){const s=t.slice();return s[13]=e[n],s}function Kt(t){let e,n,s;return{c(){e=g("input"),v(e,"slot","hue-slider"),v(e,"type","range"),v(e,"class","hue-gradient svelte-iha1er"),v(e,"min","0"),v(e,"max","360"),v(e,"step","1")},m(i,l){f(i,e,l),k(e,t[0][t[1]].h),n||(s=[b(e,"change",t[10]),b(e,"input",t[10])],n=!0)},p(t,n){3&n&&k(e,t[0][t[1]].h)},d(t){t&&p(e),n=!1,i(s)}}}function Qt(t){let e,n,s;return{c(){e=g("input"),v(e,"slot","sat-slider"),v(e,"type","range"),v(e,"class","sat-gradient svelte-iha1er"),_(e,"--h",t[2].h),_(e,"--l",t[2].l+"%"),v(e,"min","0"),v(e,"max","100"),v(e,"step","1")},m(i,l){f(i,e,l),k(e,t[0][t[1]].s),n||(s=[b(e,"change",t[11]),b(e,"input",t[11])],n=!0)},p(t,n){4&n&&_(e,"--h",t[2].h),4&n&&_(e,"--l",t[2].l+"%"),3&n&&k(e,t[0][t[1]].s)},d(t){t&&p(e),n=!1,i(s)}}}function Ut(t){let e,n,s;return{c(){e=g("input"),v(e,"slot","light-slider"),v(e,"type","range"),v(e,"class","light-gradient svelte-iha1er"),_(e,"--h",t[2].h),_(e,"--s",t[2].s+"%"),v(e,"min","0"),v(e,"max","100"),v(e,"step","1")},m(i,l){f(i,e,l),k(e,t[0][t[1]].l),n||(s=[b(e,"change",t[12]),b(e,"input",t[12])],n=!0)},p(t,n){4&n&&_(e,"--h",t[2].h),4&n&&_(e,"--s",t[2].s+"%"),3&n&&k(e,t[0][t[1]].l)},d(t){t&&p(e),n=!1,i(s)}}}function Vt(t,e){let n,s,i;return{key:t,first:null,c(){n=g("div"),v(n,"class","color svelte-iha1er"),_(n,"--h",e[13].h),_(n,"--s",e[13].s+"%"),_(n,"--l",e[13].l+"%"),M(n,"selected",e[13].id==e[1]),M(n,"blank",100==e[13].l),this.first=n},m(t,r){f(t,n,r),s||(i=b(n,"click",(function(){l(e[5](e[13].id))&&e[5](e[13].id).apply(this,arguments)})),s=!0)},p(t,s){e=t,1&s&&_(n,"--h",e[13].h),1&s&&_(n,"--s",e[13].s+"%"),1&s&&_(n,"--l",e[13].l+"%"),3&s&&M(n,"selected",e[13].id==e[1]),1&s&&M(n,"blank",100==e[13].l)},d(t){t&&p(n),s=!1,i()}}}function Wt(t){let e,n=[],s=new Map,i=t[0];const l=t=>t[13].id;for(let e=0;e<i.length;e+=1){let r=Jt(t,i,e),o=l(r);s.set(o,n[e]=Vt(o,r))}return{c(){e=g("div");for(let t=0;t<n.length;t+=1)n[t].c();v(e,"slot","colors"),v(e,"class","colors-grid svelte-iha1er")},m(t,s){f(t,e,s);for(let t=0;t<n.length;t+=1)n[t].m(e,null)},p(t,i){if(35&i){const r=t[0];n=K(n,i,l,1,t,r,s,e,I,Vt,null,Jt)}},d(t){t&&p(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function Zt(t){let e,n,s,l,r,o,c,u,a,h,$,y,x,w;return{c(){e=g("div"),n=g("button"),s=g("img"),c=m(),u=g("button"),a=g("img"),s.src!==(l="img/undo.svg")&&v(s,"src","img/undo.svg"),v(s,"alt",r=t[3]?"undo":"undo (disabled)"),v(n,"aria-label",o=t[3]?"undo":"undo (disabled)"),v(n,"class","history-button svelte-iha1er"),M(n,"disabled",!t[3]),a.src!==(h="img/redo.svg")&&v(a,"src","img/redo.svg"),v(a,"alt",$=t[4]?"redo":"redo (disabled)"),v(u,"aria-label",y=t[4]?"redo":"redo (disabled)"),v(u,"class","history-button svelte-iha1er"),M(u,"disabled",!t[4]),v(e,"slot","history-buttons")},m(i,l){f(i,e,l),d(e,n),d(n,s),d(e,c),d(e,u),d(u,a),x||(w=[b(n,"click",t[6]),b(u,"click",t[7])],x=!0)},p(t,e){8&e&&r!==(r=t[3]?"undo":"undo (disabled)")&&v(s,"alt",r),8&e&&o!==(o=t[3]?"undo":"undo (disabled)")&&v(n,"aria-label",o),8&e&&M(n,"disabled",!t[3]),16&e&&$!==($=t[4]?"redo":"redo (disabled)")&&v(a,"alt",$),16&e&&y!==(y=t[4]?"redo":"redo (disabled)")&&v(u,"aria-label",y),16&e&&M(u,"disabled",!t[4])},d(t){t&&p(e),x=!1,i(w)}}}function te(e){let n,s,i;return{c(){n=g("button"),n.textContent="X",v(n,"slot","reset-button"),v(n,"class","reset-button svelte-iha1er"),v(n,"aria-label","reset canvas")},m(t,l){f(t,n,l),s||(i=b(n,"click",e[8]),s=!0)},p:t,d(t){t&&p(n),s=!1,i()}}}function ee(e){let n,s,i,l,r;return{c(){n=m(),s=m(),i=m(),l=m(),r=m()},m(t,e){f(t,n,e),f(t,s,e),f(t,i,e),f(t,l,e),f(t,r,e)},p:t,d(t){t&&p(n),t&&p(s),t&&p(i),t&&p(l),t&&p(r)}}}function ne(t){let e,n,s;return n=new It({props:{$$slots:{default:[ee],"reset-button":[te],"history-buttons":[Zt],colors:[Wt],"light-slider":[Ut],"sat-slider":[Qt],"hue-slider":[Kt]},$$scope:{ctx:t}}}),{c(){e=g("div"),V(n.$$.fragment),v(e,"class","cell svelte-iha1er")},m(t,i){f(t,e,i),W(n,e,null),s=!0},p(t,[e]){const s={};65567&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){s||(Y(n.$$.fragment,t),s=!0)},o(t){D(n.$$.fragment,t),s=!1},d(t){t&&p(e),Z(n)}}}function se(t,e,n){let s,i,l;o(t,xt,(t=>n(0,s=t))),o(t,vt,(t=>n(1,i=t))),o(t,kt,(t=>n(9,l=t)));let r,c,u;return t.$$.update=()=>{3&t.$$.dirty&&n(2,r=s[i]),512&t.$$.dirty&&n(3,c=l.cursor>0),512&t.$$.dirty&&n(4,u=l.cursor<l.versions.length-1)},[s,i,r,c,u,t=>()=>vt.set(t),()=>{kt.undo(),yt.set(l.versions[l.cursor])},()=>{kt.redo(),yt.set(l.versions[l.cursor])},()=>{wt.setConfiguring(),xt.reset(),yt.reset(),xt.reset(),vt.reset(),kt.reset()},l,function(){s[i].h=x(this.value),xt.set(s)},function(){s[i].s=x(this.value),xt.set(s)},function(){s[i].l=x(this.value),xt.set(s)}]}class ie extends nt{constructor(t){super(),et(this,t,se,ne,r,{})}}function le(t){let e,n;const s=t[1].default,i=c(s,t,t[0],null);return{c(){e=g("div"),i&&i.c(),v(e,"class","cell svelte-vsurxw")},m(t,s){f(t,e,s),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&1&e&&a(i,s,t,t[0],e,null,null)},i(t){n||(Y(i,t),n=!0)},o(t){D(i,t),n=!1},d(t){t&&p(e),i&&i.d(t)}}}function re(t,e,n){let{$$slots:s={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,s]}class oe extends nt{constructor(t){super(),et(this,t,re,le,r,{})}}function ce(n){let s,l,r,o=[{id:n[0],x:n[1],y:n[2],width:n[3],height:n[4],fill:n[5]},{stroke:"black"},{"stroke-width":"0.1"}],c={};for(let t=0;t<o.length;t+=1)c=e(c,o[t]);return{c(){s=h("rect"),y(s,c),M(s,"svelte-1rmw8na",!0)},m(t,e){f(t,s,e),l||(r=[b(s,"click",n[6]),b(s,"mouseenter",n[7])],l=!0)},p(t,[e]){y(s,c=Q(o,[63&e&&{id:t[0],x:t[1],y:t[2],width:t[3],height:t[4],fill:t[5]},{stroke:"black"},{"stroke-width":"0.1"}])),M(s,"svelte-1rmw8na",!0)},i:t,o:t,d(t){t&&p(s),l=!1,i(r)}}}function ue(t,e,n){let s,i,l,r;o(t,yt,(t=>n(9,s=t))),o(t,xt,(t=>n(11,i=t))),o(t,vt,(t=>n(12,l=t))),o(t,wt,(t=>n(13,r=t)));let{id:c}=e,{x:u}=e,{y:a}=e,{width:d}=e,{height:f}=e;const p=()=>yt.update((t=>({...t,[c]:l})));let g,h,$;return t.$$set=t=>{"id"in t&&n(0,c=t.id),"x"in t&&n(1,u=t.x),"y"in t&&n(2,a=t.y),"width"in t&&n(3,d=t.width),"height"in t&&n(4,f=t.height)},t.$$.update=()=>{513&t.$$.dirty&&n(8,g=s[c]),2304&t.$$.dirty&&n(10,h=void 0!==g?i[g]:{h:0,s:100,l:100}),1024&t.$$.dirty&&n(5,$=`hsl(${h.h}, ${h.s}%, ${h.l}%)`)},[c,u,a,d,f,$,()=>{"painting"==r&&(p(),kt.commit(s))},t=>{"painting"==r&&1===t.buttons&&p()},g,s,h,i]}class ae extends nt{constructor(t){super(),et(this,t,ue,ce,r,{id:0,x:1,y:2,width:3,height:4})}}function de(t,e,n){const s=t.slice();return s[14]=e[n],s}function fe(t,n){let s,i,l;const r=[n[14]];let o={};for(let t=0;t<r.length;t+=1)o=e(o,r[t]);return i=new ae({props:o}),{key:t,first:null,c(){s=$(""),V(i.$$.fragment),this.first=s},m(t,e){f(t,s,e),W(i,t,e),l=!0},p(t,e){const n=2&e?Q(r,[(s=t[14],"object"==typeof s&&null!==s?s:{})]):{};var s;i.$set(n)},i(t){l||(Y(i.$$.fragment,t),l=!0)},o(t){D(i.$$.fragment,t),l=!1},d(t){t&&p(s),Z(i,t)}}}function pe(t){let e,n,s,l,r=[],o=new Map,c=t[1];const u=t=>t[14].id;for(let e=0;e<c.length;e+=1){let n=de(t,c,e),s=u(n);o.set(s,r[e]=fe(s,n))}return{c(){e=h("svg");for(let t=0;t<r.length;t+=1)r[t].c();v(e,"viewBox",t[0]),v(e,"class","svelte-u89dj0")},m(i,o){f(i,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0,s||(l=[b(e,"touchmove",t[3]),b(e,"pointerup",t[8])],s=!0)},p(t,[s]){if(2&s){const n=t[1];F(),r=K(r,s,u,1,t,n,o,e,J,fe,null,de),G()}(!n||1&s)&&v(e,"viewBox",t[0])},i(t){if(!n){for(let t=0;t<c.length;t+=1)Y(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)D(r[t]);n=!1},d(t){t&&p(e);for(let t=0;t<r.length;t+=1)r[t].d();s=!1,i(l)}}}function ge(t,e,n){let s,i,l;o(t,wt,(t=>n(9,s=t))),o(t,yt,(t=>n(2,i=t))),o(t,vt,(t=>n(10,l=t)));let{gridSize:r}=e,{layoutRotation:c}=e;const u=t=>[...Array(t).keys()];let a,d,f,p;return t.$$set=t=>{"gridSize"in t&&n(4,r=t.gridSize),"layoutRotation"in t&&n(5,c=t.layoutRotation)},t.$$.update=()=>{16&t.$$.dirty&&n(6,a=2*(r+1)),16&t.$$.dirty&&n(7,d=2*(r+2)),192&t.$$.dirty&&n(0,f=`0 0 ${a} ${d}`),240&t.$$.dirty&&n(1,p=((t,e,n,s,i,l)=>{switch(l){case 90:return u(t).flatMap((i=>u(t).flatMap((l=>({id:i*t+l,x:s-(i%2?e*(l+1):e*(l+1.5)),y:n*(i+1.5)+3,height:n,width:e})))));case 180:return u(t).flatMap((l=>u(t).flatMap((r=>({id:l*t+r,x:i-n*(l+1.5)-6,y:s-(l%2?e*(r+1):e*(r+1.5))+1,height:e,width:n})))));case 270:return u(t).flatMap((s=>u(t).flatMap((l=>({id:s*t+l,x:s%2?e*(l+1):e*(l+1.5)-2,y:i-(n*(s+1.5)+3)-2,height:n,width:e})))));default:return u(t).flatMap((s=>u(t).flatMap((i=>({id:s*t+i,x:n*(s+1.5)+2,y:s%2?e*(i+1):e*(i+1.5),height:e,width:n})))))}})(r,2,1.64,a,d,c))},[f,p,i,t=>{"painting"==s&&function(t,e,n=e){t.set(n)}(yt,i[document.elementFromPoint(t.touches[0].pageX,t.touches[0].pageY).id]=l,i)},r,c,a,d,()=>kt.commit(i)]}class he extends nt{constructor(t){super(),et(this,t,ge,pe,r,{gridSize:4,layoutRotation:5})}}function $e(t){let e,n;return e=new ie({}),{c(){V(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function me(t){let n,s;const i=[{gridSize:t[0],layoutRotation:t[1]}];let l={};for(let t=0;t<i.length;t+=1)l=e(l,i[t]);return n=new he({props:l}),{c(){V(n.$$.fragment)},m(t,e){W(n,t,e),s=!0},p(t,e){const s=3&e?Q(i,[{gridSize:t[0],layoutRotation:t[1]}]):{};n.$set(s)},i(t){s||(Y(n.$$.fragment,t),s=!0)},o(t){D(n.$$.fragment,t),s=!1},d(t){Z(n,t)}}}function be(t){let e,n,s,i,l,r,o,c,u,a;function h(e){t[5].call(null,e)}function $(e){t[6].call(null,e)}n=new it({});let b={};void 0!==t[0]&&(b.gridSize=t[0]),void 0!==t[1]&&(b.layoutRotation=t[1]),i=new Et({props:b}),j.push((()=>U(i,"gridSize",h))),j.push((()=>U(i,"layoutRotation",$)));let y=t[2]&&$e();return u=new oe({props:{$$slots:{default:[me]},$$scope:{ctx:t}}}),{c(){e=g("main"),V(n.$$.fragment),s=m(),V(i.$$.fragment),o=m(),y&&y.c(),c=m(),V(u.$$.fragment),v(e,"class","svelte-1290sin"),M(e,"painting",t[2]),M(e,"configuring",t[3])},m(t,l){f(t,e,l),W(n,e,null),d(e,s),W(i,e,null),d(e,o),y&&y.m(e,null),d(e,c),W(u,e,null),a=!0},p(t,[n]){const s={};!l&&1&n&&(l=!0,s.gridSize=t[0],A((()=>l=!1))),!r&&2&n&&(r=!0,s.layoutRotation=t[1],A((()=>r=!1))),i.$set(s),t[2]?y?4&n&&Y(y,1):(y=$e(),y.c(),Y(y,1),y.m(e,c)):y&&(F(),D(y,1,1,(()=>{y=null})),G());const o={};131&n&&(o.$$scope={dirty:n,ctx:t}),u.$set(o),4&n&&M(e,"painting",t[2]),8&n&&M(e,"configuring",t[3])},i(t){a||(Y(n.$$.fragment,t),Y(i.$$.fragment,t),Y(y),Y(u.$$.fragment,t),a=!0)},o(t){D(n.$$.fragment,t),D(i.$$.fragment,t),D(y),D(u.$$.fragment,t),a=!1},d(t){t&&p(e),Z(n),Z(i),y&&y.d(),Z(u)}}}function ve(t,e,n){let s;o(t,wt,(t=>n(4,s=t)));let i,l,r=20,c=90;return t.$$.update=()=>{16&t.$$.dirty&&n(2,i="painting"==s),16&t.$$.dirty&&n(3,l="configuring"==s)},[r,c,i,l,s,function(t){r=t,n(0,r)},function(t){c=t,n(1,c)}]}return new class extends nt{constructor(t){super(),et(this,t,ve,be,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
