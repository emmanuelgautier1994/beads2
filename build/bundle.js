var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t,n,e,i){if(t){const o=s(t,n,e,i);return t[0](o)}}function s(t,e,i,o){return t[1]&&o?n(i.ctx.slice(),t[1](o(e))):i.ctx}function u(t,n,e,i,o,l,r){const c=function(t,n,e,i){if(t[2]&&i){const o=t[2](i(e));if(void 0===n.dirty)return o;if("object"==typeof o){const t=[],e=Math.max(n.dirty.length,o.length);for(let i=0;i<e;i+=1)t[i]=n.dirty[i]|o[i];return t}return n.dirty|o}return n.dirty}(n,i,o,l);if(c){const o=s(n,e,i,r);t.p(o,c)}}function a(t,n){t.appendChild(n)}function f(t,n,e){t.insertBefore(n,e||null)}function g(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t){return document.createTextNode(t)}function h(){return $(" ")}function m(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function y(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function v(t,n){for(const e in n)y(t,e,n[e])}function x(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function b(t,n){t.value=null==n?"":n}function w(t,n,e){t.classList[e?"add":"remove"](n)}let S;function k(t){S=t}const _=[],R=[],M=[],j=[],z=Promise.resolve();let E=!1;function C(t){M.push(t)}function A(t){j.push(t)}let L=!1;const B=new Set;function N(){if(!L){L=!0;do{for(let t=0;t<_.length;t+=1){const n=_[t];k(n),O(n.$$)}for(k(null),_.length=0;R.length;)R.pop()();for(let t=0;t<M.length;t+=1){const n=M[t];B.has(n)||(B.add(n),n())}M.length=0}while(_.length);for(;j.length;)j.pop()();E=!1,L=!1,B.clear()}}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(C)}}const T=new Set;let q;function G(){q={r:0,c:[],p:q}}function H(){q.r||o(q.c),q=q.p}function P(t,n){t&&t.i&&(T.delete(t),t.i(n))}function D(t,n,e,i){if(t&&t.o){if(T.has(t))return;T.add(t),q.c.push((()=>{T.delete(t),i&&(e&&t.d(1),i())})),t.o(n)}}function F(t,n){D(t,1,1,(()=>{n.delete(t.key)}))}function I(t,n){const e={},i={},o={$$scope:1};let l=t.length;for(;l--;){const r=t[l],c=n[l];if(c){for(const t in r)t in c||(i[t]=1);for(const t in c)o[t]||(e[t]=c[t],o[t]=1);t[l]=c}else for(const t in r)o[t]=1}for(const t in i)t in e||(e[t]=void 0);return e}function J(t,n,e){const i=t.$$.props[n];void 0!==i&&(t.$$.bound[i]=e,e(t.$$.ctx[i]))}function K(t){t&&t.c()}function Q(t,n,i){const{fragment:r,on_mount:c,on_destroy:s,after_update:u}=t.$$;r&&r.m(n,i),C((()=>{const n=c.map(e).filter(l);s?s.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(C)}function U(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function V(t,n){-1===t.$$.dirty[0]&&(_.push(t),E||(E=!0,z.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function W(n,e,l,r,c,s,u=[-1]){const a=S;k(n);const f=e.props||{},d=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:c,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:i(),dirty:u,skip_bound:!1};let p=!1;if(d.ctx=l?l(n,f,((t,e,...i)=>{const o=i.length?i[0]:e;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&V(n,t)),e})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!r&&r(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(g)}else d.fragment&&d.fragment.c();e.intro&&P(n.$$.fragment),Q(n,e.target,e.anchor),N()}k(a)}class X{$destroy(){U(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(n){let e;return{c(){e=d("div"),e.innerHTML='<div class="title svelte-g6crc9"><span class="letter-b svelte-g6crc9">B</span> \n    <span class="letter-e svelte-g6crc9">e</span> \n    <span class="letter-a svelte-g6crc9">a</span> \n    <span class="letter-d svelte-g6crc9">d</span> \n    <span class="letter-s svelte-g6crc9">s</span></div>',y(e,"class","cell svelte-g6crc9")},m(t,n){f(t,e,n)},p:t,i:t,o:t,d(t){t&&g(e)}}}class Z extends X{constructor(t){super(),W(this,t,null,Y,r,{})}}const tt=t=>({}),nt=t=>({}),et=t=>({}),it=t=>({}),ot=t=>({}),lt=t=>({}),rt=t=>({}),ct=t=>({});function st(t){let n,e,i,o,l,r;const s=t[3].label,a=c(s,t,t[2],lt),p=t[3].slider,$=c(p,t,t[2],it),m=t[3]["go-button"],v=c(m,t,t[2],nt);return{c(){n=d("div"),a&&a.c(),e=h(),i=d("div"),$&&$.c(),o=h(),l=d("div"),v&&v.c(),y(n,"class","cell cell-label svelte-mdu8in"),y(i,"class","cell cell-slider svelte-mdu8in"),y(l,"class","cell cell-go-button svelte-mdu8in")},m(t,c){f(t,n,c),a&&a.m(n,null),f(t,e,c),f(t,i,c),$&&$.m(i,null),f(t,o,c),f(t,l,c),v&&v.m(l,null),r=!0},p(t,n){a&&a.p&&4&n&&u(a,s,t,t[2],n,ot,lt),$&&$.p&&4&n&&u($,p,t,t[2],n,et,it),v&&v.p&&4&n&&u(v,m,t,t[2],n,tt,nt)},i(t){r||(P(a,t),P($,t),P(v,t),r=!0)},o(t){D(a,t),D($,t),D(v,t),r=!1},d(t){t&&g(n),a&&a.d(t),t&&g(e),t&&g(i),$&&$.d(t),t&&g(o),t&&g(l),v&&v.d(t)}}}function ut(t){let n,e,i,o;const l=t[3]["rotate-buttons"],r=c(l,t,t[2],ct);let s=t[1]&&st(t);return{c(){n=d("div"),e=d("div"),r&&r.c(),i=h(),s&&s.c(),y(e,"class","cell cell-rotate-buttons svelte-mdu8in"),y(n,"class","grid svelte-mdu8in"),w(n,"painting",t[0]),w(n,"configuring",t[1])},m(t,l){f(t,n,l),a(n,e),r&&r.m(e,null),a(n,i),s&&s.m(n,null),o=!0},p(t,[e]){r&&r.p&&4&e&&u(r,l,t,t[2],e,rt,ct),t[1]?s?(s.p(t,e),2&e&&P(s,1)):(s=st(t),s.c(),P(s,1),s.m(n,null)):s&&(G(),D(s,1,1,(()=>{s=null})),H()),1&e&&w(n,"painting",t[0]),2&e&&w(n,"configuring",t[1])},i(t){o||(P(r,t),P(s),o=!0)},o(t){D(r,t),D(s),o=!1},d(t){t&&g(n),r&&r.d(t),s&&s.d()}}}function at(t,n,e){let{$$slots:i={},$$scope:o}=n,{painting:l}=n,{configuring:r}=n;return t.$$set=t=>{"painting"in t&&e(0,l=t.painting),"configuring"in t&&e(1,r=t.configuring),"$$scope"in t&&e(2,o=t.$$scope)},[l,r,o,i]}class ft extends X{constructor(t){super(),W(this,t,at,ut,r,{painting:0,configuring:1})}}function gt(n){let e,i,l,r,c,s;return{c(){e=d("div"),i=d("button"),i.textContent="L",l=h(),r=d("button"),r.textContent="R",y(i,"class","svelte-ij9clm"),y(r,"class","svelte-ij9clm"),y(e,"slot","rotate-buttons")},m(t,o){f(t,e,o),a(e,i),a(e,l),a(e,r),c||(s=[m(i,"click",n[5]),m(r,"click",n[4])],c=!0)},p:t,d(t){t&&g(e),c=!1,o(s)}}}function dt(t){let n,e,i,o;return{c(){n=d("p"),e=$(t[0]),i=$(" x "),o=$(t[0]),y(n,"slot","label"),y(n,"class","label svelte-ij9clm")},m(t,l){f(t,n,l),a(n,e),a(n,i),a(n,o)},p(t,n){1&n&&x(e,t[0]),1&n&&x(o,t[0])},d(t){t&&g(n)}}}function pt(t){let n,e,i,l,r,c;return{c(){n=d("input"),y(n,"type","range"),y(n,"slot","slider"),y(n,"min",e=5),y(n,"max",i=50),y(n,"step",l=1),y(n,"class","svelte-ij9clm")},m(e,i){f(e,n,i),b(n,t[0]),r||(c=[m(n,"change",t[7]),m(n,"input",t[7])],r=!0)},p(t,e){1&e&&b(n,t[0])},d(t){t&&g(n),r=!1,o(c)}}}function $t(t){let n,e,i;return{c(){n=d("button"),n.textContent="Go!",y(n,"slot","go-button"),y(n,"class","go-button svelte-ij9clm")},m(o,r){f(o,n,r),e||(i=m(n,"click",(function(){l(t[3])&&t[3].apply(this,arguments)})),e=!0)},p(n,e){t=n},d(t){t&&g(n),e=!1,i()}}}function ht(n){let e,i,o;return{c(){e=h(),i=h(),o=h()},m(t,n){f(t,e,n),f(t,i,n),f(t,o,n)},p:t,d(t){t&&g(e),t&&g(i),t&&g(o)}}}function mt(t){let e,i,o;const l=[{configuring:t[1],painting:t[2]}];let r={$$slots:{default:[ht],"go-button":[$t],slider:[pt],label:[dt],"rotate-buttons":[gt]},$$scope:{ctx:t}};for(let t=0;t<l.length;t+=1)r=n(r,l[t]);return i=new ft({props:r}),{c(){e=d("div"),K(i.$$.fragment),y(e,"class","cell svelte-ij9clm")},m(t,n){f(t,e,n),Q(i,e,null),o=!0},p(t,[n]){const e=6&n?I(l,[{configuring:t[1],painting:t[2]}]):{};265&n&&(e.$$scope={dirty:n,ctx:t}),i.$set(e)},i(t){o||(P(i.$$.fragment,t),o=!0)},o(t){D(i.$$.fragment,t),o=!1},d(t){t&&g(e),U(i)}}}function yt(t,n,e){let{gridSize:i}=n,{layoutRotation:o}=n,{configuring:l}=n,{painting:r}=n,{toggleStep:c}=n;return t.$$set=t=>{"gridSize"in t&&e(0,i=t.gridSize),"layoutRotation"in t&&e(6,o=t.layoutRotation),"configuring"in t&&e(1,l=t.configuring),"painting"in t&&e(2,r=t.painting),"toggleStep"in t&&e(3,c=t.toggleStep)},[i,l,r,c,()=>{e(6,o=(o+90)%360)},()=>{e(6,o=(o-90+360)%360)},o,function(){var t;t=this.value,i=""===t?null:+t,e(0,i)}]}class vt extends X{constructor(t){super(),W(this,t,yt,mt,r,{gridSize:0,layoutRotation:6,configuring:1,painting:2,toggleStep:3})}}function xt(n){let e,i,o,r,c;return{c(){e=d("div"),i=$("painting toolbox\n  "),o=d("button"),o.textContent="Reset",y(e,"class","cell svelte-3u0j4x")},m(t,s){f(t,e,s),a(e,i),a(e,o),r||(c=m(o,"click",(function(){l(n[0])&&n[0].apply(this,arguments)})),r=!0)},p(t,[e]){n=t},i:t,o:t,d(t){t&&g(e),r=!1,c()}}}function bt(t,n,e){let{toggleStep:i}=n;return t.$$set=t=>{"toggleStep"in t&&e(0,i=t.toggleStep)},[i]}class wt extends X{constructor(t){super(),W(this,t,bt,xt,r,{toggleStep:0})}}function St(t){let n,e;const i=t[1].default,o=c(i,t,t[0],null);return{c(){n=d("div"),o&&o.c(),y(n,"class","cell svelte-1bjus1p")},m(t,i){f(t,n,i),o&&o.m(n,null),e=!0},p(t,[n]){o&&o.p&&1&n&&u(o,i,t,t[0],n,null,null)},i(t){e||(P(o,t),e=!0)},o(t){D(o,t),e=!1},d(t){t&&g(n),o&&o.d(t)}}}function kt(t,n,e){let{$$slots:i={},$$scope:o}=n;return t.$$set=t=>{"$$scope"in t&&e(0,o=t.$$scope)},[o,i]}class _t extends X{constructor(t){super(),W(this,t,kt,St,r,{})}}function Rt(e){let i,o=[{id:e[0],x:e[1],y:e[2],width:e[3],height:e[4],fill:e[5]},{stroke:"black"},{"stroke-width":"0.1"}],l={};for(let t=0;t<o.length;t+=1)l=n(l,o[t]);return{c(){i=p("rect"),v(i,l),w(i,"svelte-1rmw8na",!0)},m(t,n){f(t,i,n)},p(t,[n]){v(i,l=I(o,[63&n&&{id:t[0],x:t[1],y:t[2],width:t[3],height:t[4],fill:t[5]},{stroke:"black"},{"stroke-width":"0.1"}])),w(i,"svelte-1rmw8na",!0)},i:t,o:t,d(t){t&&g(i)}}}function Mt(t,n,e){let{id:i}=n,{x:o}=n,{y:l}=n,{width:r}=n,{height:c}=n,s="white";return t.$$set=t=>{"id"in t&&e(0,i=t.id),"x"in t&&e(1,o=t.x),"y"in t&&e(2,l=t.y),"width"in t&&e(3,r=t.width),"height"in t&&e(4,c=t.height)},t.$$.update=()=>{1&t.$$.dirty&&i<25&&e(5,s="red"),1&t.$$.dirty&&i>25&&e(5,s="blue")},[i,o,l,r,c,s]}class jt extends X{constructor(t){super(),W(this,t,Mt,Rt,r,{id:0,x:1,y:2,width:3,height:4})}}function zt(t,n,e){const i=t.slice();return i[10]=n[e],i}function Et(t,e){let i,o,l;const r=[e[10]];let c={};for(let t=0;t<r.length;t+=1)c=n(c,r[t]);return o=new jt({props:c}),{key:t,first:null,c(){i=$(""),K(o.$$.fragment),this.first=i},m(t,n){f(t,i,n),Q(o,t,n),l=!0},p(t,n){const e=2&n?I(r,[(i=t[10],"object"==typeof i&&null!==i?i:{})]):{};var i;o.$set(e)},i(t){l||(P(o.$$.fragment,t),l=!0)},o(t){D(o.$$.fragment,t),l=!1},d(t){t&&g(i),U(o,t)}}}function Ct(t){let n,e,i=[],o=new Map,l=t[1];const r=t=>t[10].id;for(let n=0;n<l.length;n+=1){let e=zt(t,l,n),c=r(e);o.set(c,i[n]=Et(c,e))}return{c(){n=p("svg");for(let t=0;t<i.length;t+=1)i[t].c();y(n,"viewBox",t[0]),y(n,"class","svelte-u89dj0")},m(t,o){f(t,n,o);for(let t=0;t<i.length;t+=1)i[t].m(n,null);e=!0},p(t,[l]){if(2&l){const e=t[1];G(),i=function(t,n,e,i,o,l,r,c,s,u,a,f){let g=t.length,d=l.length,p=g;const $={};for(;p--;)$[t[p].key]=p;const h=[],m=new Map,y=new Map;for(p=d;p--;){const t=f(o,l,p),c=e(t);let s=r.get(c);s?i&&s.p(t,n):(s=u(c,t),s.c()),m.set(c,h[p]=s),c in $&&y.set(c,Math.abs(p-$[c]))}const v=new Set,x=new Set;function b(t){P(t,1),t.m(c,a),r.set(t.key,t),a=t.first,d--}for(;g&&d;){const n=h[d-1],e=t[g-1],i=n.key,o=e.key;n===e?(a=n.first,g--,d--):m.has(o)?!r.has(i)||v.has(i)?b(n):x.has(o)?g--:y.get(i)>y.get(o)?(x.add(i),b(n)):(v.add(o),g--):(s(e,r),g--)}for(;g--;){const n=t[g];m.has(n.key)||s(n,r)}for(;d;)b(h[d-1]);return h}(i,l,r,1,t,e,o,n,F,Et,null,zt),H()}(!e||1&l)&&y(n,"viewBox",t[0])},i(t){if(!e){for(let t=0;t<l.length;t+=1)P(i[t]);e=!0}},o(t){for(let t=0;t<i.length;t+=1)D(i[t]);e=!1},d(t){t&&g(n);for(let t=0;t<i.length;t+=1)i[t].d()}}}function At(t,n,e){let{gridSize:i}=n,{layoutRotation:o}=n,{painting:l}=n;const r=t=>[...Array(t).keys()];let c,s,u,a;return t.$$set=t=>{"gridSize"in t&&e(2,i=t.gridSize),"layoutRotation"in t&&e(3,o=t.layoutRotation),"painting"in t&&e(4,l=t.painting)},t.$$.update=()=>{4&t.$$.dirty&&e(5,c=2*(i+1)),4&t.$$.dirty&&e(6,s=2*(i+2)),96&t.$$.dirty&&e(0,u=`0 0 ${c} ${s}`),108&t.$$.dirty&&e(1,a=((t,n,e,i,o,l)=>{switch(l){case 90:return r(t).flatMap((o=>r(t).flatMap((l=>({id:o*t+l,x:i-(o%2?n*(l+1):n*(l+1.5)),y:e*(o+1.5)+3,height:e,width:n})))));case 180:return r(t).flatMap((l=>r(t).flatMap((r=>({id:l*t+r,x:o-e*(l+1.5)-6,y:i-(l%2?n*(r+1):n*(r+1.5))+1,height:n,width:e})))));case 270:return r(t).flatMap((i=>r(t).flatMap((l=>({id:i*t+l,x:i%2?n*(l+1):n*(l+1.5)-2,y:o-(e*(i+1.5)+3)-2,height:e,width:n})))));default:return r(t).flatMap((i=>r(t).flatMap((o=>({id:i*t+o,x:e*(i+1.5)+2,y:i%2?n*(o+1):n*(o+1.5),height:n,width:e})))))}})(i,2,1.64,c,s,o))},[u,a,i,o,l,c,s]}class Lt extends X{constructor(t){super(),W(this,t,At,Ct,r,{gridSize:2,layoutRotation:3,painting:4})}}function Bt(t){let e,i;const o=[{toggleStep:t[4]}];let l={};for(let t=0;t<o.length;t+=1)l=n(l,o[t]);return e=new wt({props:l}),{c(){K(e.$$.fragment)},m(t,n){Q(e,t,n),i=!0},p(t,n){const i=16&n?I(o,[{toggleStep:t[4]}]):{};e.$set(i)},i(t){i||(P(e.$$.fragment,t),i=!0)},o(t){D(e.$$.fragment,t),i=!1},d(t){U(e,t)}}}function Nt(t){let e,i;const o=[{painting:t[2],gridSize:t[1],layoutRotation:t[0]}];let l={};for(let t=0;t<o.length;t+=1)l=n(l,o[t]);return e=new Lt({props:l}),{c(){K(e.$$.fragment)},m(t,n){Q(e,t,n),i=!0},p(t,n){const i=7&n?I(o,[{painting:t[2],gridSize:t[1],layoutRotation:t[0]}]):{};e.$set(i)},i(t){i||(P(e.$$.fragment,t),i=!0)},o(t){D(e.$$.fragment,t),i=!1},d(t){U(e,t)}}}function Ot(t){let e,i,o,l,r,c,s,u,p,$;i=new Z({});const m=[{toggleStep:t[4],configuring:t[3],painting:t[2]}];function v(n){t[6].call(null,n)}function x(n){t[7].call(null,n)}let b={};for(let t=0;t<m.length;t+=1)b=n(b,m[t]);void 0!==t[1]&&(b.gridSize=t[1]),void 0!==t[0]&&(b.layoutRotation=t[0]),l=new vt({props:b}),R.push((()=>J(l,"gridSize",v))),R.push((()=>J(l,"layoutRotation",x)));let S=t[2]&&Bt(t);return p=new _t({props:{$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){e=d("main"),K(i.$$.fragment),o=h(),K(l.$$.fragment),s=h(),S&&S.c(),u=h(),K(p.$$.fragment),y(e,"class","svelte-1l5dwhm"),w(e,"painting",t[2]),w(e,"configuring",t[3])},m(t,n){f(t,e,n),Q(i,e,null),a(e,o),Q(l,e,null),a(e,s),S&&S.m(e,null),a(e,u),Q(p,e,null),$=!0},p(t,[n]){const i=28&n?I(m,[{toggleStep:t[4],configuring:t[3],painting:t[2]}]):{};!r&&2&n&&(r=!0,i.gridSize=t[1],A((()=>r=!1))),!c&&1&n&&(c=!0,i.layoutRotation=t[0],A((()=>c=!1))),l.$set(i),t[2]?S?(S.p(t,n),4&n&&P(S,1)):(S=Bt(t),S.c(),P(S,1),S.m(e,u)):S&&(G(),D(S,1,1,(()=>{S=null})),H());const o={};263&n&&(o.$$scope={dirty:n,ctx:t}),p.$set(o),4&n&&w(e,"painting",t[2]),8&n&&w(e,"configuring",t[3])},i(t){$||(P(i.$$.fragment,t),P(l.$$.fragment,t),P(S),P(p.$$.fragment,t),$=!0)},o(t){D(i.$$.fragment,t),D(l.$$.fragment,t),D(S),D(p.$$.fragment,t),$=!1},d(t){t&&g(e),U(i),U(l),S&&S.d(),U(p)}}}function Tt(t,n,e){let i="configuring",o=20,l=90;let r,c;return t.$$.update=()=>{32&t.$$.dirty&&e(2,r="painting"==i),32&t.$$.dirty&&e(3,c="configuring"==i),1&t.$$.dirty&&console.log({layoutRotation:l})},[l,o,r,c,()=>{e(5,i={configuring:"painting",painting:"configuring"}[i])},i,function(t){o=t,e(1,o)},function(t){l=t,e(0,l)}]}return new class extends X{constructor(t){super(),W(this,t,Tt,Ot,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
